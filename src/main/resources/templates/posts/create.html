<!DOCTYPE html>
<html lang="en">
<head>
    <!--  Зависимости Bootstrap-->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link th:href = "@{/css/bootstrap.min.css}" rel="stylesheet">
    <script th:src="@{/js/code.jquery.com_jquery-3.7.1.min.js}"></script>
    <script th:src="@{/js/bootstrap.min.js}"></script>
    <!--    Чтобы работал выпадающий список в навигационной панели, требуется
            добавить эту зависимость, иначе ничего выпадать не будет!   -->
    <script th:src="@{/js/bootstrap.bundle.js}"></script>

    <!--    Здесь я задал стиль для body и футера таким образом,
            чтобы наш футер всегда был внизу, вне зависимости от того,
            много контента на странице или мало-->
    <style>
        body {
            min-height: 100vh;
        }
        footer {
            position: sticky;
            top: 100%;
        }
    </style>

    <title>Login</title>
</head>
<body>
<!--    С помощью тега <header> и атрибута insert мы вставляем общий компонент страницы (блок навигации, который мы вынесли отдельно)-->
<header th:insert="blocks/header :: header"></header>
<div class="container">
    <div class="mt-5 text-center">
        <div class="mb-5">
            <span>Characteristics of the car</span>
        </div>
    </div>
    <!--  Выражение th:action="@{/posts/create}" направляет форму к POST запросу /candidates/create
              Также здесь мы изменили тип формы enctype="multipart/form-data-->
    <form class="mt-3" th:action="@{/posts/create}" th:object="${post}" method="post" enctype="multipart/form-data">
        <!--    Параметр justify-content-evenly располагает колонки максимально близко
                друг к другу, т.е. НЕ ПЛОТНО, а БЛИЗКО (между ними небольшое расстояние)-->
        <div class="mt-4 row justify-content-evenly">
            <div class="col-3">
                <label for="brand">Choose brand</label>
                <select class="form-control" id="brand" name="brandId">
                    <option th:each="brand : ${carBrand}" th:value="${brand.id}" th:text="${brand.name}"></option>
                </select>
            </div>
            <div class="col-3">
                <label for="model"> Enter model name</label>
                <input type="text" class="form-control" id="model" name="modelId" placeholder="Camry">
            </div>
        </div>
        <div class="mt-4 row justify-content-evenly">
            <div class="col-3">
                <!--    Обрати внимание на то, что id="body". Здесь body - это
                        поле объекта Body. Мы указываем точь в точь, чтобы
                        Spring сам присвоил значение полю. Поэтому не удивляйся,
                        что все аттрибуты одинаковые.
                        th:each="body : ${body}" - здесь то, что в скобках,
                        это то, что мы передали в модель в слое контроллеров-->
                <label for="body">Choose body type</label>
                <select class="form-control" id="body" name="bodyId">
                    <option th:each="body : ${body}" th:value="${body.id}" th:text="${body.name}"></option>
                </select>
            </div>
            <div class="col-3">
                <label for="engine">Choose engine modification</label>
                <select class="form-control" id="engine" name="engineId">
                    <!--    Т.к. у объекта engine 3 поля, то мы их отобразили таким образом-->
                    <option th:each="engine : ${engine}" th:value="${engine.id}"
                            th:text="${engine.fuelType + ', ' + engine.capacity + 'L' + ', ' + engine.horsePower + 'HP'}">
                    </option>
                </select>
            </div>
        </div>
        <div class="mt-4 row justify-content-evenly">
            <div class="col-3">
                <label for="color">Choose color</label>
                <select class="form-control" id="color" name="colorId">
                    <option th:each="color : ${carColor}" th:value="${color.id}" th:text="${color.name}"></option>
                </select>
            </div>
            <div class="col-3">
                <label for="mileage"> Enter mileage (km)</label>
                <input type="text" class="form-control" id="mileage" name="mileage" placeholder="12345">
            </div>
        </div>
        <div class="mt-5 text-center">
            <div class="mb-5">
                <span>Technical Passport</span>
            </div>
        </div>
        <div class="mt-4 row justify-content-around">
            <div class="col-8 text-center">
                <label for="original">Passport original/duplicate</label>
                <select class="form-control text-center" id="original" name="originalId">
                    <option th:value="true" th:text="Original"></option>
                    <option th:value="false" th:text="Duplicate"></option>
                </select>
            </div>
        </div>
        <!--    <ЗАКОММЕНТИРОВАННЫЙ БЛОК НЕ РАБОТАЕТ. НЕ ОТОБРАЖАЕТ СТРАНИЦУ
                Не удается передать несколько объектов Owner-->
<!--        <div th:each="owner, stat : *{owners}">-->
<!--            <input type="text" th:field="*{owners[__${stat.index}__].name}" placeholder="Owner Name" />-->
<!--            <input type="datetime-local" th:field="*{owners[__${stat.index}__].start}" placeholder="Start Date/Time" />-->
<!--            <input type="datetime-local" th:field="*{owners[__${stat.index}__].end}" placeholder="End Date/Time" />-->
<!--        </div>-->
        <div class="mt-4 row justify-content-center">
            <div class="col-4">
                <label for="name"> Owner 1 name</label>
                <input type="text" class="form-control" id="name" name="name" placeholder="Name">
            </div>
            <div class="col-2">
                <label for="start"> Start date</label>
                <input type="date" class="form-control" id="start" name="start">
            </div>
            <div class="col-2">
                <label for="end"> End date</label>
                <input type="date" class="form-control" id="end" name="end">
            </div>
        </div>

<!--        <div class="mb-3">-->
<!--            <label for="name" class="form-label"><b>Имя</b></label>-->
<!--            &lt;!&ndash;  Формы передают данные в виде ключ-значение. Ключ указывается с помощью атрибута name.-->
<!--                   Т.к. известен ключ и название поля объекта, их можно сопоставить (Mapping). Эта идея реализована в Spring MVC.&ndash;&gt;-->
<!--            <input type="text" class="form-control" id="name" name="name" placeholder="Имя кандидата">-->
<!--        </div>-->
<!--        <div class="mb-3">-->
<!--            <label for="formFile"><b>Фото</b></label>-->
<!--            <input class="form-control form-control-sm w-100" type="file" id="formFile" name="file" required>-->
<!--        </div>-->
<!--        <div class="mb-3">-->
<!--            <label for="description" class="form-label"><b>Описание</b></label>-->
<!--            &lt;!&ndash;   Аттрибут "rows" позволяет выбирать произвольную высоту формы.-->
<!--                   Т.е. пользователь сам меняет размер формы оп высоте.-->
<!--                   Если требуется выставить конкретную высоту формы, то следует использовать-->
<!--                   аттрибут style="height: 300px" например&ndash;&gt;-->
<!--            <textarea class="form-control" id="description" name="description" style="height: 375px" placeholder="Опишите свой опыт. Можете похвастаться знанием Java, если вы не программист"></textarea>-->
<!--        </div>-->
<!--        <div class="mb-3">-->
<!--            <label for="city"><b>Город</b></label>-->
<!--            <select class="form-control" id="city" name="cityId">-->
<!--                <option th:each="city : ${cities}" th:value="${city.id}" th:text="${city.name}"></option>-->
<!--            </select>-->
<!--        </div>-->
<!--        <div class="mb-3 row">-->
<!--            <div class="col-6"></div>-->
<!--            <div class="col-6">-->
<!--                <div class="row">-->
<!--                    <div class="col-6"><a class="btn btn-danger w-100" th:href="@{/candidates}">Отмена</a></div>-->
<!--                    <div class="col-6"><button class="btn btn-primary w-100" type="submit">Сохранить</button></div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
    </form>
</div>
<!--    Вызов Footer добавляется в конце HTML страницы -->
<footer th:insert="blocks/footer :: footer"></footer>
</body>
</html>